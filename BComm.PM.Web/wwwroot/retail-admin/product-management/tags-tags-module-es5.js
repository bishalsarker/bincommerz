function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"4//j":function(t,e,a){"use strict";a.r(e),e.default='<div style="margin: 15px 15px">\n    <app-breadcrumb [breadcrumbs]="breadCrumbService.breadcrumbs | async"></app-breadcrumb>\n    <router-outlet></router-outlet>\n</div>'},"5WyD":function(t,e,a){"use strict";a.r(e),e.default=""},"7fIC":function(t,e,a){"use strict";a.r(e),e.default='<div style="padding-left: 12px;">\n    <div class="row">\n        <div class="col-md-6 col-sm-12">\n            <div class="form-group">\n                <label for="exampleInputEmail1">Name</label>\n                <input type="text" class="form-control" [formControl]="nameControl" />\n            </div>\n            <div class="form-group">\n                <label for="exampleFormControlTextarea1">Description</label>\n                <textarea \n                    class="form-control" \n                    id="exampleFormControlTextarea1" \n                    rows="3"\n                    [formControl]="descriptionControl">\n                </textarea>\n              </div>\n        </div>\n    </div>\n    <div class="button-row">\n        <button class="btn btn-danger" routerLink="/tags" [disabled]="disableAddBtn">Cancel</button>\n        <button \n            class="btn btn-primary" \n            [disabled]="!tagForm.valid || disableAddBtn" \n            (click)="addOrUpdateTag()">\n            {{ buttonText }}\n        </button>\n    </div>\n</div>'},Gfgi:function(t,e,a){"use strict";a.d(e,"a",(function(){return p}));var n=a("mrSG"),r=a("IheW"),i=a("8Y7J"),s=a("iInd"),o=a("EApP"),u=a("2Vo4"),c=a("lJxs"),l=a("LvDl"),d=a("fIz6"),p=function(){function t(e,a,n){_classCallCheck(this,t),this.httpClient=e,this.toastr=a,this.router=n,this.tags=new u.a([]),this.getAllTags().subscribe(),console.log(this.tags.value)}return _createClass(t,[{key:"resolveTags",value:function(t){var e=this;return t.map((function(t){var a=Object(l.find)(e.tags.value,(function(e){return e.id===t}));return a?a.name:"invalid_tag"}))}},{key:"getAllTags",value:function(){var t=this;return this.httpClient.get(d.a+"tags/get/all",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}}).pipe(Object(c.a)((function(e){e.isSuccess?t.tags.next(e.data):t.showError()})))}},{key:"getTagById",value:function(t){var e=this;return this.httpClient.get(d.a+"tags/get/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}}).pipe(Object(c.a)((function(t){return t.isSuccess?t.data:(e.showError(),null)})))}},{key:"addTag",value:function(t){var e=this;return this.httpClient.post(d.a+"tags/addnew",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}}).pipe(Object(c.a)((function(a){a.isSuccess?(e.getAllTags().subscribe(),e.router.navigate(["tags"]),e.toastr.success("New tag added: "+t.name)):e.showError()})))}},{key:"updateTag",value:function(t){var e=this;return this.httpClient.put(d.a+"tags/update",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}}).pipe(Object(c.a)((function(a){a.isSuccess?(e.getAllTags().subscribe(),e.router.navigate(["tags"]),e.toastr.success("Tag updated: "+t.name)):e.showError()})))}},{key:"deleteTag",value:function(t){var e=this;return this.httpClient.delete(d.a+"tags/delete/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}}).pipe(Object(c.a)((function(t){t.isSuccess?(e.getAllTags().subscribe(),e.router.navigate(["tags"]),e.toastr.success("Tag deleted")):e.showError()})))}},{key:"showError",value:function(){this.toastr.error("","Error occured")}}]),t}();p.ctorParameters=function(){return[{type:r.a},{type:o.b},{type:s.b}]},p=n.a([Object(i.C)({providedIn:"root"})],p)},bYRp:function(t,e,a){"use strict";a.r(e),e.default=""},dwTM:function(t,e,a){"use strict";a.r(e);var n=a("mrSG"),r=a("8Y7J"),i=a("SVse"),s=a("iInd"),o=a("s7LF"),u=a("2Vo4"),c=a("k8Mo"),l=a("Gfgi"),d=function(){function t(e,a,n){_classCallCheck(this,t),this.breadCrumbService=e,this.tagsDataService=a,this.route=n,this.tagId=new u.a(null),this.tagForm=new o.b({name:new o.a("",o.f.required),description:new o.a("")}),this.disableAddBtn=!1,this.buttonText="Save"}return _createClass(t,[{key:"nameControl",get:function(){return this.tagForm.get("name")}},{key:"descriptionControl",get:function(){return this.tagForm.get("description")}},{key:"ngOnInit",value:function(){var t=this;this.breadCrumbService.addBreadcrumb({title:this.isEditMode?"Edit":"Add",route:""}),this.isEditMode&&this.route.params.subscribe((function(e){var a=e.id;t.tagId.next(a),t.getTagById()})),this.buttonText=this.isEditMode?"Update":"Save"}},{key:"ngOnDestroy",value:function(){this.breadCrumbService.removeLast()}},{key:"addOrUpdateTag",value:function(){var t=this;this.disableAddBtn=!0,this.buttonText="Saving...",(this.isEditMode?this.updateTag():this.addTag()).subscribe((function(){}),(function(){t.disableAddBtn=!1,t.buttonText="Save"}))}},{key:"getTagById",value:function(){var t=this;this.tagsDataService.getTagById(this.tagId.value).subscribe((function(e){e&&(t.nameControl.setValue(e.name),t.descriptionControl.setValue(e.description))}))}},{key:"isEditMode",get:function(){return this.route.snapshot.data.editMode}},{key:"addTag",value:function(){return this.tagsDataService.addTag({name:this.nameControl.value,description:this.descriptionControl.value})}},{key:"updateTag",value:function(){return this.tagsDataService.updateTag({id:this.tagId.value,name:this.nameControl.value,description:this.descriptionControl.value})}}]),t}();d.ctorParameters=function(){return[{type:c.a},{type:l.a},{type:s.a}]},d=n.a([Object(r.n)({selector:"app-tag-form",template:n.b(a("7fIC")).default,styles:[n.b(a("yGCB")).default]})],d);var p=function t(e,a){var n=this;_classCallCheck(this,t),this.router=e,this.tagsDataService=a,this.columnConfig=new u.a([{columnName:"Name",propertyName:"name"},{columnName:"Description",propertyName:"description",filter:function(t){return t.description&&""!==t.description.trim()?t.description:"n/a"}}]),this.tableActions=new u.a([{icon:"",title:"Edit",showActions:function(){return!0},predicate:function(t){return!0},do:function(t){n.router.navigate(["/tags/edit/"+t.id])}},{icon:"",title:"Delete",showActions:function(){return!0},predicate:function(t){return!0},do:function(t){confirm("Are you sure?")&&n.tagsDataService.deleteTag(t.id).subscribe()}}])};p.ctorParameters=function(){return[{type:s.b},{type:l.a}]},p=n.a([Object(r.C)({providedIn:"root"})],p);var h=function(){function t(e,a){_classCallCheck(this,t),this.tagListService=e,this.tagsDataService=a,this.tableData=new u.a([])}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();h.ctorParameters=function(){return[{type:p},{type:l.a}]},h=n.a([Object(r.n)({selector:"app-tags-list",template:n.b(a("lVb1")).default,styles:[n.b(a("5WyD")).default]})],h);var f=function(){function t(e){_classCallCheck(this,t),this.breadCrumbService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.breadCrumbService.addBreadcrumb({title:"Tags",route:"/tags"})}},{key:"ngOnDestroy",value:function(){this.breadCrumbService.removeLast()}}]),t}();f.ctorParameters=function(){return[{type:c.a}]};var b=[{path:"",component:f=n.a([Object(r.n)({selector:"app-tags",template:n.b(a("4//j")).default,styles:[n.b(a("bYRp")).default]})],f),children:[{path:"",component:h},{path:"add",component:d,data:{editMode:!1}},{path:"edit/:id",component:d,data:{editMode:!0}}]}],g=function t(){_classCallCheck(this,t)};g=n.a([Object(r.K)({imports:[s.c.forChild(b)],exports:[s.c]})],g);var v=a("PCNd");a.d(e,"TagsModule",(function(){return m}));var m=function t(){_classCallCheck(this,t)};m=n.a([Object(r.K)({declarations:[f,h,d],imports:[i.b,g,o.e,v.a]})],m)},k8Mo:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("mrSG"),r=a("8Y7J"),i=a("2Vo4"),s=a("LvDl"),o=function(){function t(){_classCallCheck(this,t),this.breadcrumbs=new i.a([]),this.breadcrumbs.next([])}return _createClass(t,[{key:"addBreadcrumb",value:function(t){this.hasItem(t)||this.breadcrumbs.value.push(t)}},{key:"removeLast",value:function(){this.breadcrumbs.value.pop()}},{key:"hasItem",value:function(t){return Object(s.find)(this.breadcrumbs.value,(function(e){return e.route===t.route}))}}]),t}();o=n.a([Object(r.C)({providedIn:"root"})],o)},lVb1:function(t,e,a){"use strict";a.r(e),e.default='<div style="padding-left: 12px;">\n    <app-data-table\n        [columnConfig]="tagListService.columnConfig | async" \n        [tableData]="tagsDataService.tags | async"\n        [actions]="tagListService.tableActions | async">\n        <a class="btn btn-link" routerLink="/tags/add"  style="padding-left: 0px;">\n            <i class="fas fa-plus"></i>&nbsp;\n            <span style="font-weight: 600; margin-left: 5px;">Add New</span>\n        </a>\n    </app-data-table>\n</div>'},yGCB:function(t,e,a){"use strict";a.r(e),e.default=""}}]);