(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1GSM":function(t,n,e){"use strict";e.r(n),n.default=""},JJIx:function(t,n,e){"use strict";e.r(n);var a=e("mrSG"),r=e("8Y7J"),o=e("SVse"),s=e("iInd"),i=e("fIz6"),l=e("IheW");let c=class{constructor(t){this.httpClient=t}getOrderSummary(){return this.httpClient.get(i.a+"reports/ordersummary",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}})}getMostOrderedProducts(t,n){return this.httpClient.get(i.a+"reports/mostorderedproducts",{params:{month:t.toString(),year:n.toString()},headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}})}getMostPopularTags(t,n){return this.httpClient.get(i.a+"reports/mostpopulartags",{params:{month:t.toString(),year:n.toString()},headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}})}};c.ctorParameters=()=>[{type:l.a}],c=a.a([Object(r.B)({providedIn:"root"})],c);let d=class{constructor(t){this.httpClient=t}getStockHealth(){return this.httpClient.get(i.a+"products/stockhealth",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}})}};d.ctorParameters=()=>[{type:l.a}],d=a.a([Object(r.B)({providedIn:"root"})],d);let h=class{constructor(t,n){this.reportservice=t,this.stockHealthService=n,this.stockHealthData=null,this.barChartOptions={responsive:!0,scales:{xAxes:[{}],yAxes:[{ticks:{callback:function(t){return t.toString().substring(0,5)+"..."}}}]}},this.barChartLabels=[],this.barChartType="horizontalBar",this.barChartLegend=!1,this.barChartData=[{data:[],label:"Products"}],this.pieChartOptions={responsive:!0,legend:{position:"left"}},this.pieChartLabels=[],this.pieChartData=[],this.pieChartType="pie",this.pieChartLegend=!0,this.pieChartColors=[{backgroundColor:["rgba(255,0,0,0.3)","rgba(0,255,0,0.3)","rgba(0,0,255,0.3)"]}],this.totalOrder=0,this.totalCompletedOrder=0,this.totalInprogressOrder=0,this.totalCanceledOrder=0,this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.currentMonthIndex=0}ngOnInit(){const t=new Date;this.currentMonthIndex=t.getMonth(),this.reportservice.getOrderSummary().subscribe(t=>{this.totalOrder=t.data.totalOrder,this.totalCompletedOrder=t.data.totalCompletedOrder,this.totalInprogressOrder=t.data.totalIncompleteOrder,this.totalCanceledOrder=t.data.totalCanceledOrder}),this.reportservice.getMostOrderedProducts(this.currentMonthIndex+1,t.getFullYear()).subscribe(t=>{this.barChartLabels=[],this.barChartData[0].data=[],t.data.orderCounts.forEach(t=>{this.barChartLabels.push(t.productName),this.barChartData[0].data.push(t.orderCount)})}),this.reportservice.getMostPopularTags(this.currentMonthIndex+1,t.getFullYear()).subscribe(t=>{t.data.forEach(t=>{this.pieChartLabels.push(t.tagName),this.pieChartData.push(t.percentage)})}),this.stockHealthService.getStockHealth().subscribe(t=>{this.stockHealthData=t.data})}get currentMonth(){return this.monthNames[this.currentMonthIndex]}get showSummary(){return this.totalOrder+this.totalCompletedOrder+this.totalInprogressOrder+this.totalCanceledOrder!==0}get orderManagementUrl(){return i.a+"retail-admin/order-management/"}get productManagementUrl(){return i.a+"retail-admin/product-management/"}get contentManagementUrl(){return i.a+"retail-admin/content-management/"}};h.ctorParameters=()=>[{type:c},{type:d}],h=a.a([Object(r.n)({selector:"app-home",template:a.b(e("ltHH")).default,styles:[a.b(e("vNIu")).default]})],h);var p=e("s7LF");let g=class{constructor(){this.disableAddBtn=!1,this.buttonText="Save",this.imageUrl="./assets/images/product-placeholder.png",this.settingsForm=new p.b({shopName:new p.a("",p.d.required),shopDescription:new p.a("",p.d.required),shopLogo:new p.a("",p.d.required)})}ngOnInit(){}get shopNameControl(){return this.settingsForm.get("shopName")}get shopDescriptionControl(){return this.settingsForm.get("shopDescription")}get shopLogoControl(){return this.settingsForm.get("shopLogo")}handleFileInput(t){if(t){var n=new FileReader;n.readAsDataURL(t),n.onload=t=>{const e=n.result;this.imageUrl=e,this.shopLogoControl.setValue(e.split(",")[1])}}}};g=a.a([Object(r.n)({selector:"app-settings",template:a.b(e("sNo7")).default,styles:[a.b(e("JXXC")).default]})],g);let u=class{};u=a.a([Object(r.n)({selector:"app-portal",template:a.b(e("Yg28")).default,styles:[a.b(e("1GSM")).default]})],u);const m=[{path:"",component:u,children:[{path:"",component:h},{path:"settings",component:g}]}];let b=class{};b=a.a([Object(r.J)({imports:[s.c.forChild(m)],exports:[s.c]})],b);var v=e("hrfs");e.d(n,"PortalModule",(function(){return f}));let f=class{};f=a.a([Object(r.J)({declarations:[u,g,h],imports:[o.b,b,v.a,p.c]})],f)},JXXC:function(t,n,e){"use strict";e.r(n),n.default=""},Yg28:function(t,n,e){"use strict";e.r(n),n.default='<div class="container" style="margin-top: 50px; margin-bottom: 100px;">\n  <router-outlet></router-outlet>\n</div>'},ltHH:function(t,n,e){"use strict";e.r(n),n.default='<div class="row" style="margin-bottom: 50px;">\n    <h4 style="padding-left: 15px;">Welcome to Retail Portal!</h4>\n</div>\n<div style="margin-bottom: 50px;">\n  <div class="w-100" style="margin-bottom: 10px;">\n      <h6 style="font-weight: 700;">Stock Health</h6>\n  </div>\n  <div class="w-100" *ngIf="!stockHealthData">\n      <p>Something went wrong. Couldn\'t fetch stock health data.</p>\n  </div>\n  <span *ngIf="stockHealthData">\n    <div class="notice notice-success" *ngIf="stockHealthData.outOfStock.length === 0 && stockHealthData.warning.length === 0">\n      <strong><i class="fas fa-check-double fa-fw"></i></strong> &nbsp; All product stock quantity is good\n    </div>\n    <div class="notice notice-danger" *ngIf="stockHealthData.outOfStock.length > 0">\n        <strong><i class="fas fa-exclamation-triangle fa-fw"></i></strong> &nbsp; <b>{{ stockHealthData.outOfStock.length }} Products are running out of stock!</b>\n    </div>\n    <div class="notice notice-warning" *ngIf="stockHealthData.warning.length > 0">\n      <strong><i class="fas fa-exclamation-circle fa-fw"></i></strong> &nbsp; <b>{{ stockHealthData.warning.length }} Product stocks are soon going to be finished</b>\n    </div>\n  </span>\n</div>\n<div style="margin-bottom: 50px;">\n    <div class="w-100" style="margin-bottom: 10px;">\n        <h6 style="font-weight: 700;">Analytics</h6>\n    </div>\n    <div class="w-100" *ngIf="!(barChartData[0].data.length > 0 && barChartData[0].data.length > 0)">\n        <p>No analytics data available for this month</p>\n    </div>\n    <div class="row" *ngIf="barChartData[0].data.length > 0 && barChartData[0].data.length > 0">\n        <div class="col-md-6 col-sm-12" *ngIf="barChartData[0].data.length > 0">\n            <div class="card text-center">\n                <div class="card-body">\n                  <h5 class="card-title">Most Ordered Products</h5>\n                  <h6 style="font-weight: 700; margin-bottom: 40px;">Month: \n                    <span style="color: green;">{{ currentMonth }}</span>\n                  </h6>\n                  <canvas baseChart\n                    [datasets]="barChartData"\n                    [labels]="barChartLabels"\n                    [options]="barChartOptions"\n                    [legend]="barChartLegend"\n                    [chartType]="barChartType">\n                </canvas>\n                </div>\n            </div>\n        </div>\n        <div class="col-md-6 col-sm-12" *ngIf="pieChartData.length > 0">\n            <div class="card text-center">\n                <div class="card-body">\n                  <h5 class="card-title">Most Popular Tags</h5>\n                  <h6 style="font-weight: 700; margin-bottom: 40px;">Month: \n                    <span style="color: green;">{{ currentMonth }}</span>\n                  </h6>\n                  <canvas baseChart\n                    [data]="pieChartData"\n                    [labels]="pieChartLabels"\n                    [chartType]="pieChartType"\n                    [options]="pieChartOptions"\n                    [colors]="pieChartColors"\n                    [legend]="pieChartLegend">\n                  </canvas>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div style="margin-bottom: 50px;">\n    <div class="w-100" style="margin-bottom: 10px;">\n        <h6 style="font-weight: 700;">Order Summary</h6>\n    </div>\n    <div class="w-100" *ngIf="!showSummary">\n        <p>No summary data available</p>\n    </div>\n    <div class="row" style="margin-bottom: 50px;" *ngIf="showSummary">\n        \x3c!-- <div class="col-md-3 mt-auto" style="margin: auto 0;">\n          <div class="card-counter primary">\n              <h5 class="w-100">Total Orders</h5>\n              <h3 class="count-numbers w-100">{{ totalOrder }}</h3>\n          </div>\n        </div>\n     --\x3e\n        <div class="col-md-4">\n          <div class="card-counter info">\n            <h5 class="w-100">In Progress Order</h5>\n              <h3 class="count-numbers w-100">{{ totalInprogressOrder }}</h3>\n          </div>\n        </div>\n    \n        <div class="col-md-4">\n          <div class="card-counter success">\n            <h5 class="w-100">Completed Order</h5>\n              <h3 class="count-numbers w-100">{{ totalCompletedOrder }}</h3>\n          </div>\n        </div>\n    \n        <div class="col-md-4">\n          <div class="card-counter danger">\n            <h5 class="w-100">Canceled Order</h5>\n              <h3 class="count-numbers w-100">{{ totalCanceledOrder }}</h3>\n          </div>\n        </div>\n    </div>\n</div>\n<div class="row">\n    <div class="col-12" style="margin-bottom: 10px;">\n        <h6 style="font-weight: 700;">Management</h6>\n    </div>\n    <div class="col-md-4 col-sm-12">\n        <div class="card text-center">\n            <div class="card-body">\n              <h5 class="card-title">Order Management</h5>\n              <p class="card-text">Handle your orders in a fastest way. Keep your focus only on the orders from your precious customers</p>\n              <a [href]="orderManagementUrl" class="btn btn-primary">Enter</a>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-4 col-sm-12">\n        <div class="card text-center">\n            <div class="card-body">\n              <h5 class="card-title">Product Management</h5>\n              <p class="card-text">Add or update your existing product catalog. Create new catagories with tags and add new product as many as you want</p>\n              <a [href]="productManagementUrl" class="btn btn-primary">Enter</a>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-4 col-sm-12">\n      <div class="card text-center">\n          <div class="card-body">\n            <h5 class="card-title">Content Management</h5>\n            <p class="card-text">Manage your site without changing your code. Add new pages, widgets homepage content and many more.</p>\n            <a [href]="contentManagementUrl" class="btn btn-primary">Enter</a>\n          </div>\n      </div>\n  </div>\n</div>\n'},sNo7:function(t,n,e){"use strict";e.r(n),n.default='<h5>Shop Info</h5>\n\n<div class="row" style="margin-top: 30px;">\n    <div class="col-md-5 col-sm-12">\n        <div class="form-group required">\n            <label for="exampleInputEmail1">Name</label>\n            <input type="text" class="form-control" [formControl]="shopNameControl" />\n        </div>\n        <div class="form-group required">\n            <label for="exampleFormControlTextarea1">Description</label>\n            <textarea \n                class="form-control" \n                id="exampleFormControlTextarea1" \n                rows="7"\n                [formControl]="shopDescriptionControl">\n            </textarea>\n        </div>\n    </div>\n    <div class="col-lg-7 col-sm-12 d-flex justify-content-center">\n        <div style="padding-right: 20px;">\n            <div class="form-group required" style="margin-bottom:20px">\n                <label for="file">Logo</label>\n                <div class="border" style="padding: 15px; margin-bottom: 15px; width: 300px;">\n                    <img [src]="imageUrl" class="w-100"  style="height: 235px; object-fit: contain" />\n                </div>\n                <input \n                    id="file" \n                    type="file" \n                    accept=".jpg, .jpeg, .png" \n                    (change)="handleFileInput($event.target.files[0])" \n                />\n            </div>\n        </div>\n     </div>\n</div>\n\n<div class="button-row" style="margin-top: 20px;">\n    <button class="btn btn-danger" routerLink="/dashboard" [disabled]="disableAddBtn">Cancel</button>\n    <button \n        class="btn btn-primary" \n        [disabled]="!settingsForm.valid || disableAddBtn" \n        (click)="addOrUpdateCatagory()">\n        {{ buttonText }}\n    </button>\n</div>\n'},vNIu:function(t,n,e){"use strict";e.r(n),n.default=".card-counter {\n  box-shadow: 2px 2px 10px #DADADA;\n  margin: 5px;\n  padding: 20px 10px;\n  background-color: #fff;\n  height: 180px;\n  border-radius: 5px;\n  transition: 0.2s linear all;\n}\n.card-counter h3, .card-counter h5 {\n  text-align: center;\n}\n.card-counter:hover {\n  cursor: pointer;\n  box-shadow: 4px 4px 20px #8b8b8b;\n  transition: 0.2s linear all;\n}\n.card-counter.primary {\n  background-color: #2a91ff;\n  color: #FFF;\n}\n.card-counter.danger {\n  background-color: #f85c59;\n  color: #FFF;\n}\n.card-counter.success {\n  background-color: #74b978;\n  color: #FFF;\n}\n.card-counter.info {\n  background-color: #9655ff;\n  color: #FFF;\n}\n.card-counter i {\n  font-size: 5em;\n  opacity: 0.2;\n}\n.card-counter .count-numbers {\n  font-size: 5em;\n}\n.card-counter .count-name {\n  font-style: italic;\n  text-transform: capitalize;\n  font-size: 18px;\n}\n.notice {\n  padding: 15px;\n  background-color: #fafafa;\n  border-left: 6px solid #7f7f84;\n  margin-bottom: 10px;\n  box-shadow: 0 5px 8px -6px rgba(0, 0, 0, 0.2);\n}\n.notice-sm {\n  padding: 10px;\n  font-size: 80%;\n}\n.notice-lg {\n  padding: 35px;\n  font-size: large;\n}\n.notice-success {\n  border-color: #80D651;\n}\n.notice-success > strong {\n  color: #80D651;\n}\n.notice-info {\n  border-color: #45ABCD;\n}\n.notice-info > strong {\n  color: #45ABCD;\n}\n.notice-warning {\n  border-color: #FEAF20;\n}\n.notice-warning > strong {\n  color: #FEAF20;\n}\n.notice-danger {\n  border-color: #d73814;\n}\n.notice-danger > strong {\n  color: #d73814;\n}"}}]);