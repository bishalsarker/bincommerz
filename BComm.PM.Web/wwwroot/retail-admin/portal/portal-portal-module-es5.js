function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,a){for(var n=0;n<a.length;n++){var r=a[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,a,n){return a&&_defineProperties(t.prototype,a),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1GSM":function(t,a,n){"use strict";n.r(a),a.default=".card-counter {\n  box-shadow: 2px 2px 10px #DADADA;\n  margin: 5px;\n  padding: 20px 10px;\n  background-color: #fff;\n  height: 180px;\n  border-radius: 5px;\n  transition: 0.2s linear all;\n}\n.card-counter h3, .card-counter h5 {\n  text-align: center;\n}\n.card-counter:hover {\n  cursor: pointer;\n  box-shadow: 4px 4px 20px #8b8b8b;\n  transition: 0.2s linear all;\n}\n.card-counter.primary {\n  background-color: #2a91ff;\n  color: #FFF;\n}\n.card-counter.danger {\n  background-color: #f85c59;\n  color: #FFF;\n}\n.card-counter.success {\n  background-color: #74b978;\n  color: #FFF;\n}\n.card-counter.info {\n  background-color: #9655ff;\n  color: #FFF;\n}\n.card-counter i {\n  font-size: 5em;\n  opacity: 0.2;\n}\n.card-counter .count-numbers {\n  font-size: 5em;\n}\n.card-counter .count-name {\n  font-style: italic;\n  text-transform: capitalize;\n  font-size: 18px;\n}"},JJIx:function(t,a,n){"use strict";n.r(a);var r=n("mrSG"),e=n("8Y7J"),o=n("SVse"),s=n("iInd"),i=n("fIz6"),c=n("IheW"),l=function(){function t(a){_classCallCheck(this,t),this.httpClient=a}return _createClass(t,[{key:"getOrderSummary",value:function(){return this.httpClient.get(i.a+"reports/ordersummary",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}})}},{key:"getMostOrderedProducts",value:function(t,a){return this.httpClient.get(i.a+"reports/mostorderedproducts",{params:{month:t.toString(),year:a.toString()},headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}})}},{key:"getMostPopularTags",value:function(t,a){return this.httpClient.get(i.a+"reports/mostpopulartags",{params:{month:t.toString(),year:a.toString()},headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token")}})}}]),t}();l.ctorParameters=function(){return[{type:c.a}]},l=r.a([Object(e.B)({providedIn:"root"})],l);var d=function(){function t(a){_classCallCheck(this,t),this.reportservice=a,this.barChartOptions={responsive:!0,scales:{xAxes:[{}],yAxes:[{ticks:{callback:function(t){return t.toString().substring(0,5)+"..."}}}]}},this.barChartLabels=[],this.barChartType="horizontalBar",this.barChartLegend=!1,this.barChartData=[{data:[],label:"Products"}],this.pieChartOptions={responsive:!0,legend:{position:"left"}},this.pieChartLabels=[],this.pieChartData=[],this.pieChartType="pie",this.pieChartLegend=!0,this.pieChartColors=[{backgroundColor:["rgba(255,0,0,0.3)","rgba(0,255,0,0.3)","rgba(0,0,255,0.3)"]}],this.totalOrder=0,this.totalCompletedOrder=0,this.totalInprogressOrder=0,this.totalCanceledOrder=0,this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.currentMonthIndex=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this,a=new Date;this.currentMonthIndex=a.getMonth(),this.reportservice.getOrderSummary().subscribe((function(a){t.totalOrder=a.data.totalOrder,t.totalCompletedOrder=a.data.totalCompletedOrder,t.totalInprogressOrder=a.data.totalIncompleteOrder,t.totalCanceledOrder=a.data.totalCanceledOrder})),this.reportservice.getMostOrderedProducts(this.currentMonthIndex,a.getFullYear()).subscribe((function(a){t.barChartLabels=[],t.barChartData[0].data=[],a.data.orderCounts.forEach((function(a){t.barChartLabels.push(a.productName),t.barChartData[0].data.push(a.orderCount)}))})),this.reportservice.getMostPopularTags(this.currentMonthIndex,a.getFullYear()).subscribe((function(a){a.data.forEach((function(a){t.pieChartLabels.push(a.tagName),t.pieChartData.push(a.percentage)}))}))}},{key:"currentMonth",get:function(){return this.monthNames[this.currentMonthIndex]}},{key:"showSummary",get:function(){return this.totalOrder+this.totalCompletedOrder+this.totalInprogressOrder+this.totalCanceledOrder!==0}},{key:"orderManagementUrl",get:function(){return i.a+"retail-admin/order-management/"}},{key:"productManagementUrl",get:function(){return i.a+"retail-admin/product-management/"}}]),t}();d.ctorParameters=function(){return[{type:l}]};var h=[{path:"",pathMatch:"full",component:d=r.a([Object(e.n)({selector:"app-portal",template:r.b(n("Yg28")).default,styles:[r.b(n("1GSM")).default]})],d)}],u=function t(){_classCallCheck(this,t)};u=r.a([Object(e.J)({imports:[s.c.forChild(h)],exports:[s.c]})],u);var p=n("hrfs");n.d(a,"PortalModule",(function(){return m}));var m=function t(){_classCallCheck(this,t)};m=r.a([Object(e.J)({declarations:[d],imports:[o.b,u,p.a]})],m)},Yg28:function(t,a,n){"use strict";n.r(a),a.default='<div class="container" style="margin-top: 50px; margin-bottom: 100px;">\n    <div class="row" style="margin-bottom: 50px;">\n        <h4 style="padding-left: 15px;">Welcome to Retail Portal!</h4>\n    </div>\n    <div style="margin-bottom: 50px;">\n        <div class="w-100" style="margin-bottom: 10px;">\n            <h6 style="font-weight: 700;">Analytics</h6>\n        </div>\n        <div class="w-100" *ngIf="!(barChartData[0].data.length > 0 && barChartData[0].data.length > 0)">\n            <p>No analytics data available for this month</p>\n        </div>\n        <div class="row" *ngIf="barChartData[0].data.length > 0 && barChartData[0].data.length > 0">\n            <div class="col-md-6 col-sm-12" *ngIf="barChartData[0].data.length > 0">\n                <div class="card text-center">\n                    <div class="card-body">\n                      <h5 class="card-title">Most Ordered Products</h5>\n                      <h6 style="font-weight: 700; margin-bottom: 40px;">Month: \n                        <span style="color: green;">{{ currentMonth }}</span>\n                      </h6>\n                      <canvas baseChart\n                        [datasets]="barChartData"\n                        [labels]="barChartLabels"\n                        [options]="barChartOptions"\n                        [legend]="barChartLegend"\n                        [chartType]="barChartType">\n                    </canvas>\n                    </div>\n                </div>\n            </div>\n            <div class="col-md-6 col-sm-12" *ngIf="pieChartData.length > 0">\n                <div class="card text-center">\n                    <div class="card-body">\n                      <h5 class="card-title">Most Popular Tags</h5>\n                      <h6 style="font-weight: 700; margin-bottom: 40px;">Month: \n                        <span style="color: green;">{{ currentMonth }}</span>\n                      </h6>\n                      <canvas baseChart\n                        [data]="pieChartData"\n                        [labels]="pieChartLabels"\n                        [chartType]="pieChartType"\n                        [options]="pieChartOptions"\n                        [colors]="pieChartColors"\n                        [legend]="pieChartLegend">\n                      </canvas>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div style="margin-bottom: 50px;">\n        <div class="w-100" style="margin-bottom: 10px;">\n            <h6 style="font-weight: 700;">Order Summary</h6>\n        </div>\n        <div class="w-100" *ngIf="!showSummary">\n            <p>No summary data available</p>\n        </div>\n        <div class="row" style="margin-bottom: 50px;" *ngIf="showSummary">\n            <div class="col-md-3 mt-auto" style="margin: auto 0;">\n              <div class="card-counter primary">\n                  <h5 class="w-100">Total Orders</h5>\n                  <h3 class="count-numbers w-100">{{ totalOrder }}</h3>\n              </div>\n            </div>\n        \n            <div class="col-md-3">\n              <div class="card-counter info">\n                <h5 class="w-100">In Progress Order</h5>\n                  <h3 class="count-numbers w-100">{{ totalInprogressOrder }}</h3>\n              </div>\n            </div>\n        \n            <div class="col-md-3">\n              <div class="card-counter success">\n                <h5 class="w-100">Completed Order</h5>\n                  <h3 class="count-numbers w-100">{{ totalCompletedOrder }}</h3>\n              </div>\n            </div>\n        \n            <div class="col-md-3">\n              <div class="card-counter danger">\n                <h5 class="w-100">Canceled Order</h5>\n                  <h3 class="count-numbers w-100">{{ totalCanceledOrder }}</h3>\n              </div>\n            </div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-12" style="margin-bottom: 10px;">\n            <h6 style="font-weight: 700;">Management</h6>\n        </div>\n        <div class="col-md-6 col-sm-12">\n            <div class="card text-center">\n                <div class="card-body">\n                  <h5 class="card-title">Order Management</h5>\n                  <p class="card-text">Handle your orders in a fastest way. Keep your focus only on the orders from your precious customers</p>\n                  <a [href]="orderManagementUrl" class="btn btn-primary">Enter</a>\n                </div>\n            </div>\n        </div>\n        <div class="col-md-6 col-sm-12">\n            <div class="card text-center">\n                <div class="card-body">\n                  <h5 class="card-title">Product Management</h5>\n                  <p class="card-text">Add or update your existing product catalog. Create new catagories with tags and add new product as many as you want</p>\n                  <a [href]="productManagementUrl" class="btn btn-primary">Enter</a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}}]);